#Web_for_pentester - level 2
**Người thực hiện: Hoàng Quốc Cường**
##Khai thác:
- Ta kiểm tra xem web có bị lỗi SQL hay không ?
<img src="http://i.imgur.com/CxknmPF.png">
- Ta thử thêm đoạn truy vấn ` ' or '1'='1 ` thí nó hiện ra thông báo `Error no space`. Vậy, level 2 gợi ý cho ta là bị lỗi khoảng trắng.
<img src="http://i.imgur.com/BgNhpIx.png">
- Ta mã hóa các khoảng trắng thành `%09` và ta đã lấy được tất cả các cột như sau:
<img src="http://i.imgur.com/G7Cj233.png">

##Khắc phục:
- Sử dụng hàm addslashes() để thêm dấu `\` vào các ký tự `',",...`
- Sử dụng hàm strip_tags() để loại bỏ các thẻ html,xml,php có trong chuỗi.
[Khắc phục](http://totoroc.pe.hu/login1.php)

##Mô phỏng:
- Sử dụng hàm preg_match() trong PHP để tìm ký tự trắng trong chuỗi:
```
preg_match( $pattern , $subject, &$matches)
$pattern: Biểu thức Regular Expression
$subject: là chuỗi kiểm tra
$matches: là kết quả trả về, đây là một tham số trả về dưới dạng tham chiếu
```
[Mô phỏng](http://totoroc.pe.hu/login.php)

##Lấy user, password.
- Ta vẫn thực hiện các câu truy vấn sql injection như bình thường, nhưng thêm vào đó, các khoảng trắng trong câu được mã hóa url.
<img src="http://i.imgur.com/wFJEDKC.png">
<img src="http://i.imgur.com/dx0NP6j.png">
<img src="http://i.imgur.com/WjIiyqj.png">
- User/password ta lấy được:
<img src="http://i.imgur.com/2g2Zffw.png">